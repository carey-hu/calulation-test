/**
 * iOS 26 液态玻璃风格 - 全局变量定义
 * 核心：高通透、高饱和、流动感
 */

:root {
  /* 品牌色 - 调整为更高饱和度以适应玻璃滤镜 */
  --color-primary: #007aff;
  --color-success: #34c759;
  --color-warning: #ff9500;
  --color-danger: #ff3b30;
  --color-purple: #5856d6;
  
  /* 文本颜色 */
  --color-text-primary: #000000;
  --color-text-secondary: rgba(60, 60, 67, 0.6);
  --color-text-white: #ffffff;
  
  /* 液态玻璃核心变量 */
  --glass-blur: blur(25px) saturate(180%); /* 核心滤镜：强模糊+高饱和 */
  --glass-surface: rgba(255, 255, 255, 0.35); /* 基础玻璃层 */
  --glass-surface-hover: rgba(255, 255, 255, 0.55);
  --glass-border: 1px solid rgba(255, 255, 255, 0.4); /* 极细的高光边框 */
  
  /* 液态阴影：弥散光感而非黑色投影 */
  --glass-shadow: 
    0 10px 40px -10px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.6),
    inset 0 -1px 0 rgba(0, 0, 0, 0.05);

  --border-radius-md: 18px;
  --border-radius-lg: 24px;
  --border-radius-xl: 32px;
  
  /* 安全区 */
  --safe-area-top: max(44px, env(safe-area-inset-top));
  --safe-area-bottom: env(safe-area-inset-bottom);
}

/* 基础重置 */
* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

html, body {
  margin: 0;
  padding: 0;
  background: #f2f2f7;
  overscroll-behavior: none;
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

button {
  border: none;
  outline: none;
  cursor: pointer;
  font-family: inherit;
  user-select: none;
  -webkit-user-select: none;
}

/* ============================================================
   通用液态组件
   ============================================================ */

/* 玻璃面板（用于卡片容器） */
.glass-panel {
  background: var(--glass-surface);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border: var(--glass-border);
  border-radius: var(--border-radius-xl);
  box-shadow: var(--glass-shadow);
}

/* 通用液态按钮基类 */
.glass-btn {
  background: rgba(255, 255, 255, 0.3);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border: var(--glass-border);
  border-radius: var(--border-radius-md);
  color: var(--color-primary);
  font-weight: 600;
  box-shadow: 0 4px 15px rgba(0,0,0,0.03);
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  position: relative;
  overflow: hidden;
}

.glass-btn:active {
  transform: scale(0.94);
  background: var(--glass-surface-hover);
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

/* 主操作按钮（液态绿） */
.btn-primary {
  background: rgba(52, 199, 89, 0.25); /* 透明绿 */
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border: 1px solid rgba(52, 199, 89, 0.3);
  color: #0f5120; /* 深绿色文字以保证对比度 */
  font-weight: 700;
  box-shadow: 0 10px 30px rgba(52, 199, 89, 0.25);
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.btn-primary:active {
  transform: scale(0.96);
  background: rgba(52, 199, 89, 0.4);
  box-shadow: 0 4px 12px rgba(52, 199, 89, 0.15);
}

/* 危险按钮（液态红） */
.btn-danger {
  background: rgba(255, 59, 48, 0.2);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border: 1px solid rgba(255, 59, 48, 0.3);
  color: #aa1e16;
  font-weight: 700;
  transition: all 0.2s;
}

.btn-danger:active {
  transform: scale(0.96);
  background: rgba(255, 59, 48, 0.35);
}

/* 历史记录按钮（液态紫） */
.btn-history {
  background: rgba(88, 86, 214, 0.2);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border: 1px solid rgba(88, 86, 214, 0.3);
  color: #4542bd;
  font-weight: 700;
  transition: all 0.2s;
}

.btn-history:active {
  transform: scale(0.96);
  background: rgba(88, 86, 214, 0.35);
}

/* ============================================================
   功能性样式
   ============================================================ */

/* 键盘按键专用样式 */
.glass-key {
  background: rgba(255, 255, 255, 0.55);
  backdrop-filter: blur(12px) saturate(120%);
  -webkit-backdrop-filter: blur(12px) saturate(120%);
  border: 1px solid rgba(255, 255, 255, 0.7);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.04);
  color: #000;
  transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
}

.glass-key:active {
  transform: scale(0.92);
  background: rgba(255, 255, 255, 0.85);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

/* 输入框 */
.glass-input {
  background: rgba(255, 255, 255, 0.25);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.4);
  box-shadow: inset 0 2px 4px rgba(0,0,0,0.02);
}

/* 胶囊标签 */
.glass-pill {
  background: rgba(255, 255, 255, 0.4);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.5);
  border-radius: 50px;
}

/* 动画定义 */
@keyframes float {
  0% { transform: translate(0, 0); }
  100% { transform: translate(15px, 20px); }
}

/* 顶部与底部安全区适配 */
.safe-top { padding-top: var(--safe-area-top); }
.safe-bottom { padding-bottom: var(--safe-area-bottom); }